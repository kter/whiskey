# AWS Bedrock モデル料金比較（楽天API数万件処理）

## 主要モデルの料金（2025年1月時点）

### 1. Amazon Nova Pro（現在使用中）
- **Input**: $0.0008 per 1K tokens
- **Output**: $0.0032 per 1K tokens
- **特徴**: 高精度、中程度の処理速度

### 2. Amazon Titan Text Express
- **Input**: $0.0008 per 1K tokens  
- **Output**: $0.0016 per 1K tokens
- **特徴**: Nova Proより安価、高速だが精度は劣る可能性

### 3. Claude 3.5 Haiku
- **Input**: $0.00025 per 1K tokens
- **Output**: $0.00125 per 1K tokens
- **特徴**: 最も安価、高速、Nova Proと同等の精度期待

## 数万件処理の費用試算

### 想定条件
- **商品名平均長**: 200トークン/件
- **出力結果平均**: 150トークン/件
- **処理件数**: 50,000件

### モデル別費用比較

#### Nova Pro（現在使用）
- Input: 50,000 × 0.2 = 10,000K tokens → $8.00
- Output: 50,000 × 0.15 = 7,500K tokens → $24.00
- **総費用**: 約$32.00（約¥4,800）

#### Titan Text Express
- Input: 10,000K tokens → $8.00
- Output: 7,500K tokens → $12.00
- **総費用**: 約$20.00（約¥3,000）

#### Claude 3.5 Haiku（最安）
- Input: 10,000K tokens → $2.50
- Output: 7,500K tokens → $9.38
- **総費用**: 約$11.88（約¥1,800）

## 推奨アプローチ

### Option 1: 高品質優先（Nova Pro継続）
- **費用**: $32（¥4,800）
- **精度**: 最高
- **処理時間**: 15-20時間

### Option 2: コスト最適化（Claude Haiku）
- **費用**: $12（¥1,800）  
- **精度**: Nova Proと同等期待
- **処理時間**: 8-12時間（高速）

### Option 3: バランス型（Titan Express）
- **費用**: $20（¥3,000）
- **精度**: 中程度
- **処理時間**: 10-15時間

## 楽天API制限への対応

### API呼び出し制限
- **楽天市場API**: 1日10,000リクエスト
- **50,000商品取得**: 5日間の分散処理が必要

### 推奨実装スケジュール
1. **Day 1-5**: 楽天APIで商品名収集（10,000件/日）
2. **Day 6**: Bedrock一括処理（50,000件）
3. **Day 7**: DynamoDB投入、品質検証

## 実装提案

### 高効率処理パイプライン
```python
# 1. 楽天API並列取得（制限内）
# 2. Bedrock バッチ処理（Claude Haiku）
# 3. Confidence ≥ 0.9フィルタリング
# 4. DynamoDB一括投入
```

### 費用対効果の結論
- **推奨**: Claude 3.5 Haiku（$12/50,000件）
- **理由**: 最安かつ高精度、処理速度も最適

月額予算¥2,000以下で50,000件の高品質ウイスキーデータが構築可能です。